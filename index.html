<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bases Biológicas de Procesos Básicos</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    /* --- RESET GENERAL --- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(rgba(215, 224, 179, 0.9), rgba(255, 250, 244, 0.87)),
        url('imagenes/9548552.jpg') no-repeat center center fixed;
      background-size: cover;
      color: #333;
      line-height: 1.6;
      padding: 20px;
      overflow-x: hidden;
    }

    /* --- TITULOS EN CURSIVA --- */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-style: italic;
    }

    /* --- HEADER / NAV --- */
    header.custom-banner {
      background: linear-gradient(90deg, #ebe84df1, #0cd1c7c2, #e05ba9);
      color: rgb(15, 0, 0);
      text-align: center;
      padding: 2rem 1rem;
      border-radius: 0 0 20px 20px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    }

    header.custom-banner nav a {
      display: inline-block;
      margin: 0.5rem 0.75rem;
      padding: 0.6rem 1.2rem;
      background-color: #d879d3a2;
      color: #222;
      font-weight: 600;
      text-decoration: none;
      border-radius: 10px;
      transition: all 0.3s ease;
    }

    header.custom-banner nav a:hover {
      background-color: hsla(238, 94%, 49%, 0.315);
      color: white;
      transform: scale(1.1);
    }


    /* --- HEADER / NAV --- */
    header.custom-banner {
      background: linear-gradient(90deg, #ebe84df1, #0cd1c7c2, #e05ba9);
      color: rgb(15, 0, 0);
      text-align: center;
      padding: 2rem 1rem;
      border-radius: 0 0 20px 20px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    }

    header.custom-banner nav a {
      display: inline-block;
      margin: 0.5rem 0.75rem;
      padding: 0.6rem 1.2rem;
      background-color: #d879d3a2;
      color: #222;
      font-weight: 600;
      text-decoration: none;
      border-radius: 10px;
      transition: all 0.3s ease;
    }

    header.custom-banner nav a:hover {
      background-color: hsla(238, 94%, 49%, 0.315);
      color: white;
      transform: scale(1.1);
    }

    header.custom-banner nav a[href*="Sueño"] {
      background-color: #c5e1a5e7;
      /* pastel green */
      color: #2e7d32;
    }

    header.custom-banner nav a[href*="Ingesta"] {
      background-color: #b3e5fc;
      /* pastel blue */
      color: #0277bd;
    }

    header.custom-banner nav a[href*="linea"] {
      background-color: #ffe082;
      /* pastel yellow */
      color: #f57f17;
    }

    header.custom-banner nav a:hover {
      background-color: hsla(238, 94%, 49%, 0.315);
      color: white;
      transform: scale(1.1);
      opacity: 0.85;
    }

    /* --- MAIN LAYOUT --- */
    .main-container {
      display: flex;
      gap: 2rem;
      max-width: 1600px;
      margin: 2rem auto;
    }

    main.content-area {
      flex: 1;
      background: #ffffffcc;
      border-radius: 15px;
      padding: 2rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    aside.sidebar {
      position: sticky;
      top: 100px;
      max-width: 300px;
      background: #f7fbe9;
      border-radius: 15px;
      box-shadow: 0 4px 12px rgba(197, 225, 165, 0.6);
      padding: 1rem;
    }

    /* === CONTENT AREA === */
    main.content-area {
      flex: 1 1 75%;
      background-color: #ec83db6b;
      /* translucent white */
      border-radius: 15px;
      padding: 2rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(6px);
      transition: transform 0.3s ease;
    }

    main.content-area:hover {
      transform: scale(1.01);
    }

    /* === SIDEBAR === */
    aside.sidebar {
      position: sticky;
      top: 110px;
      max-width: 300px;
      background: #f7fbe9;
      /* pastel very light green */
      border-radius: 15px;
      box-shadow: 0 4px 12px rgba(197, 225, 165, 0.6);
      padding: 1rem;
      height: fit-content;
      font-size: 0.95rem;
    }

    aside.sidebar h5 {
      margin-bottom: 1rem;
      font-weight: 700;
      color: #558b2f;
      text-align: center;
    }

    aside.sidebar .card {
      margin-bottom: 1rem;
    }

    /* === GENERAL SECTION SPACING === */
    section {
      margin-bottom: 40px;
    }

    /* === RESPONSIVE IMAGES === */
    img.img-fluid,
    .image-container img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    /* === TIMELINE === */
    .timeline {
      position: relative;
      max-width: 900px;
      margin: 0 auto 3rem auto;
      padding: 0 2rem;
      display: flex;
      flex-direction: column;
      gap: 3rem;
    }

    .timeline::before {
      content: '';
      position: absolute;
      top: 0;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 4px;
      background: var(--color-line);
      border-radius: 2px;
      z-index: 0;
    }

    .timeline-item {
      position: relative;
      width: 50%;
      background: var(--color-card);
      border-radius: 12px;
      padding: 1.5rem 2rem;
      box-shadow: 2px 2px 8px rgba(130, 115, 211, 0.4);
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      cursor: pointer;
      transition: box-shadow 0.3s;
      z-index: 1;
      /* Cambiar a fila para icono y texto */
      flex-direction: row;
      align-items: center;
    }

    /* Icono al inicio */
    .timeline-item .icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 1rem;
      flex-shrink: 0;
      box-shadow: 0 0 6px var(--color-line);
      border: 2px solid var(--color-line);
    }

    /* Ajustar texto después del icono */
    .timeline-item h3,
    .timeline-item p {
      flex: 1 1 auto;
      margin: 0;
    }

    /* mantener texto en col diferentes */
    .timeline-item.left {
      text-align: left;
      padding-left: 1rem;
      padding-right: 3rem;
      flex-direction: row-reverse;
    }

    .timeline-item:hover,
    .timeline-item:focus {
      box-shadow: 4px 4px 16px rgba(130, 115, 211, 0.6);
      outline: none;
      background: #d6cfff;
    }

    .timeline-item.left .icon {
      margin-right: 0;
      margin-left: 1rem;
    }

    .timeline-item.right {
      align-self: flex-end;
      padding-left: 3rem;
      color: var(--color-text);
    }

    .timeline-item::before {
      content: '';
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #d5a4e9d2;
      border: 4px solid var(--color-line);
      z-index: 2;
    }

    .timeline-item.left::before {
      right: -10px;
    }

    .timeline-item.right::before {
      left: -10px;
    }

    .timeline-item::after {
      content: '';
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: calc(50% - 34px);
      height: 4px;
      background-color: var(--color-line);
      border-radius: 2px;
      z-index: 1;
    }

    .timeline-item.left::after {
      right: -24px;
    }

    .timeline-item.right::after {
      left: -24px;
    }

    .timeline-item h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .timeline-item p {
      margin: 0;
      font-size: 1rem;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease;
    }

    .timeline-item.expanded p {
      max-height: 200px;
      /* Espacio suficiente para mostrar el texto */
      margin-top: 0.5rem;
    }

    /* Responsive */
    @media (max-width: 700px) {
      .timeline {
        padding: 0 1rem;
      }

      .timeline::before {
        left: 10px;
        transform: none;
      }

      .timeline-item {
        width: 100%;
        padding-left: 3rem;
        padding-right: 1rem;
        text-align: left !important;
      }

      .timeline-item.left,
      .timeline-item.right {
        align-self: flex-start;
      }

      .timeline-item::before {
        left: 0;
        right: auto;
      }

      .timeline-item::after {
        display: none;
      }
    }

    /* Tarjetas de memoria del sueño izquierda */
      {
      max-width: 700px;
      margin: 2rem auto;
      padding: 1rem 1.5rem;
      background-color: #f9f9f9;
      border-radius: 8px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    section h5 {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      color: #2c3e50;
      text-align: center;
      font-weight: 600;
    }

    /* Memory card container */
    .memory-card {
      position: relative;
      background-color: #fff;
      border: 3px solid #f31295;
      border-radius: 12px;
      padding: 1.25rem 6rem;
      margin-bottom: 1.5rem;
      cursor: pointer;
      outline: none;
      box-shadow: 0 3px 7px rgba(243, 156, 18, 0.3);
      overflow: hidden;
      user-select: none;
      transition: background-color 0.4s ease, box-shadow 0.4s ease;
    }

    /* Hover and focus styles */
    .memory-card:hover,
    .memory-card:focus {
      background-color: #eaf6ff;
      box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
      border-color: #2980b9;
    }

    /* Question styling */
    .memory-card .question {
      font-weight: 600;
      color: #34495e;
      font-size: 1.1rem;
      line-height: 1.3;
    }

    /* Answer styling - hidden by default */
    .memory-card .answer {
      margin-top: 0.75rem;
      font-size: 1rem;
      color: #27ae60;
      font-weight: 500;
      line-height: 1.4;
      transition: max-height 0.4s ease, opacity 0.4s ease;
      overflow: hidden;
    }

    /* When answer is shown */
    .memory-card[aria-expanded="true"] .answer {
      display: block;
      /* optionally, for animation:
  max-height: 200px; 
  opacity: 1;
  */
    }

    /* Accessibility: keyboard focus */
    .memory-card:focus-visible {
      outline: 3px solid #2980b9;
      outline-offset: 2px;
    }

    /* Pseudo-element: Estrellitas decorativas */
    .memory-card::before,
    .memory-card::after {
      content: '⭐ ✨ 🌟';
      position: absolute;
      font-size: 1.25rem;
      color: #f1c40f;
      opacity: 0.15;
      animation: twinkle 3s infinite alternate ease-in-out;
      user-select: none;
      pointer-events: none;
    }

    .memory-card::before {
      top: 10px;
      left: 10px;
    }

    .memory-card::after {
      bottom: 10px;
      right: 10px;
      animation-delay: 1.5s;
    }

    /* Animación para las estrellitas */
    @keyframes twinkle {
      0% {
        opacity: 0.1;
        transform: scale(1) rotate(0deg);
      }

      50% {
        opacity: 0.3;
        transform: scale(1.1) rotate(15deg);
      }

      100% {
        opacity: 0.1;
        transform: scale(1) rotate(0deg);
      }
    }

    /* Hover y foco */
    .memory-card:hover,
    .memory-card:focus {
      background-color: #fff3e0;
      box-shadow: 0 6px 15px rgba(243, 18, 104, 0.884);
      border-color: #e6227d;
    }

    /* Pregunta */
    .memory-card .question {
      font-weight: 700;
      color: #4d4946;
      font-size: 1.2rem;
      line-height: 1.8;
      position: relative;
      padding-right: 30px;
    }

    /* Pequeño icono delante de la pregunta */
    .memory-card .question::before {
      content: '❓';
      position: absolute;
      right: 0;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.3rem;
      color: #f39c12;
    }

    /* Respuesta */
    .memory-card .answer {
      margin-top: 1rem;
      font-size: 1.1rem;
      color: #27ae60;
      font-weight: 600;
      line-height: 1.5;
      display: none;
      position: relative;
      padding-left: 30px;
    }

    /* Icono delante de la respuesta */
    .memory-card .answer::before {
      content: '✔️';
      position: absolute;
      left: 0;
      top: 0;
      font-size: 1.2rem;
      color: #2ecc71;
    }

    /* Mostrar respuesta si aria-expanded = true */
    .memory-card[aria-expanded="true"] .answer {
      display: block;
    }

    /* Enfoque con outline personalizado */
    .memory-card:focus-visible {
      outline: 6px dashed #f312bb81;
      outline-offset: 6px;
    }


    /* Mapa Conceptual Interactivo: Ingesta - Bases Biológicas*/
    :root {
      --color-privacion: #d9ccf9;
      --color-busqueda: #c5e5a8;
      --color-absorcion: #f9d5a8;
      --color-saciedad: #b7d6d2;
      --color-text-dark: #333;
    }

    .concept-map {
      background: #f7fbff;
      padding: 2rem;
      font-family: 'Inter', sans-serif;
      border-radius: 1.5rem;
    }

    .main-title {
      text-align: center;
      font-size: 1.8rem;
      font-weight: 700;
      color: #0b3d91;
      margin-bottom: 2rem;
    }

    .map-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(290px, 1fr));
      gap: 1rem;
    }

    .concept-card {
      background: white;
      border-radius: 1rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      transition: transform 0.3s ease;
    }

    .concept-card:hover {
      transform: translateY(-4px);
    }

    .card-header {
      width: 100%;
      border: none;
      text-align: left;
      font-size: 1.05rem;
      font-weight: 600;
      padding: 0.8rem 1rem;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .card-header:hover {
      filter: brightness(1.05);
    }

    .card-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s ease;
      padding: 0 1rem;
      font-size: 0.95rem;
      color: #333;
    }

    .card-content p,
    .card-content ul {
      margin: 0.6rem 0;
    }

    .card-content ul {
      list-style-type: "🔹 ";
      padding-left: 1rem;
    }

    .concept-card.active .card-content {
      max-height: 500px;
      padding-bottom: 0.8rem;
    }

    /* Estrellas decorativas */
    .star {
      color: gold;
      font-size: 1.2rem;
      animation: twinkle 2.5s infinite;
      position: absolute;
    }

    @keyframes twinkle {

      0%,
      100% {
        opacity: 1;
        transform: scale(1);
      }

      50% {
        opacity: 0.4;
        transform: scale(1.3);
      }
    }

    .star1 {
      top: 10%;
      left: 8%;
    }

    .star2 {
      top: 20%;
      right: 15%;
    }

    .star3 {
      bottom: 10%;
      left: 15%;
    }

    .star4 {
      top: 50%;
      left: 50%;
    }

    .star5 {
      bottom: 15%;
      right: 10%;
    }

    .star6 {
      top: 75%;
      right: 25%;
    }

    .star7 {
      top: 30%;
      left: 40%;
    }



    /* === IMAGE CONTAINER === */
    .image-container {
      max-width: 900px;
      margin: 1.5rem auto 3rem;
      padding: 1rem;
      background-color: #fffaf4;
      border: 3px dashed #ffe082;
      /* pastel yellow */
      border-radius: 12px;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 250px;
      color: #f57f17;
      /* dark pastel yellow */
      font-size: 1.25rem;
      font-weight: 600;
      user-select: none;
    }

    .timeline {
      position: relative;
      max-width: 900px;
      margin: 40px auto;
      padding: 2rem 0;
    }

    .timeline::before {
      content: '';
      position: absolute;
      left: 50%;
      top: 0;
      width: 4px;
      height: 100%;
      background: #4f8ffb;
      transform: translateX(-50%);
    }

    .timeline-step {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      padding: 1.3rem 0;
      position: relative;
      width: 50%;
    }

    .timeline-step.left {
      left: 0;
      flex-direction: row-reverse;
      padding-right: 0;
      padding-left: 20px;
    }

    .timeline-step.right {
      left: 50%;
      padding-left: 0;
      padding-right: 20px;
    }

    .timeline-content {
      background: #fff;
      border-radius: 12px;
      padding: 1.2rem 2.2rem;
      box-shadow: 0 2px 16px rgba(79, 143, 251, 0.12);
      max-width: 34rem;
      transition: box-shadow 0.3s, transform 0.3s;
      cursor: pointer;
      position: relative;
    }

    .timeline-content:hover,
    .timeline-content.active {
      box-shadow: 0 4px 22px rgba(79, 143, 251, 0.22), 0 0 0 3px #d2e5fc;
      transform: translateY(-2px) scale(1.025);
    }

    .timeline-step::after {
      content: '';
      position: absolute;
      top: 30px;
      width: 22px;
      height: 22px;
      background: #3ae2daf8;
      border: 4px solid #333fe7;
      border-radius: 50%;
      z-index: 1;
    }

    .timeline-step.left::after {
      right: -13px;
    }

    .timeline-step.right::after {
      left: -13px;
    }

    @media (max-width: 700px) {
      .timeline {
        padding: 0;
      }

      .timeline-step,
      .timeline-step.left,
      .timeline-step.right {
        flex-direction: column !important;
        left: 0 !important;
        width: 100%;
        padding: 1rem 0 1rem 35px !important;
      }

      .timeline::before {
        left: 24px;
      }

      .timeline-step::after {
        left: -31px;
        right: auto;
      }
    }

    .stage-title {
      font-weight: bold;
      color: #2932aac0;
      font-size: 1.14em;
    }

    .duration {
      color: #5b7bb1;
      font-size: 0.97em;
    }

    /* === FOOTER === */
    footer {
      position: static;
      background-color: #f7c8e0;
      color: rgb(207, 147, 147);
      text-align: center;
      padding: 20px;
      border-radius: 10px 10px 0 0;
      box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.1);
      margin-top: 3rem;
      z-index: auto;
    }

    .diagram {
      max-width: 900px;
      margin: auto;
      background: rgba(184, 56, 167, 0.438);
      border-radius: 10px;
      box-shadow: 0 0 10px #aaa;
      padding: 20px;
    }

    h1 {
      text-align: center;
      color: #003366;
    }

    .section {
      border: 1px solid #ccc;
      margin: 10px 0;
      border-radius: 6px;
      cursor: pointer;
      background: #e92ed0;
      transition: background 0.3s ease;
    }

    .section:hover {
      background: #cce1ff;
    }

    .section-header {
      padding: 15px;
      font-weight: bold;
      font-size: 1.1em;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .section-content {
      padding: 0 15px 15px 15px;
      display: none;
      font-size: 0.95em;
      line-height: 1.5em;
      color: #111;
    }

    .active .section-content {
      display: block;
    }

    .toggle-icon {
      font-size: 1.3em;
      user-select: none;
    }

    ul {
      margin: 8px 15px;
      padding-left: 20px;
    }

    .diagram-container {
      position: relative;
      max-width: 700px;
      margin: 0 auto;
    }

    .hotspot {
      position: absolute;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid rgba(139, 33, 33, 0.418);
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.3);
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.3s ease;
    }

    .hotspot:hover,
    .hotspot:focus {
      transform: scale(1.2);
      box-shadow: 0 0 10px rgba(60, 60, 255, 0.397);
      outline: none;
    }

    /* === MIND MAP === */
    
.map-lines {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
}
.mind-map {
  position: relative;
  z-index: 1;
}


/* === NODO CENTRAL === */
.central-node {
  background: linear-gradient(135deg, #524461e8, #25adfc);
  color: #ffffff;
  border-radius: 50%;
  padding: 2.5rem;
  font-size: clamp(1.6rem, 3vw, 2.2rem);
  font-weight: 700;
  text-align: center;
  box-shadow: 0 0 1.5rem rgba(50, 100, 200, 0.4);
  border: 4px solid #ffffff33;
  width: 300px;
  height: 300px;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}

.central-node:hover {
  transform: scale(1.08) rotate(1deg);
  box-shadow: 0 0 2rem rgba(50, 100, 200, 0.5);
}

/* === NODOS TEMÁTICOS === */
.node {
  background: #ffffff;
  border-radius: 1.8rem;
  padding: 2rem;
  box-shadow: 0 0.375rem 1.2rem rgba(0, 0, 0, 0.1);
  font-size: 1rem;
  line-height: 1.6;
  min-width: 280px;
  max-width: 600px;
  transition: transform 0.4s ease, box-shadow 0.4s ease;
  border-left: 6px solid #25cafc;
  position: relative;
}

/* Animación al pasar el cursor */
.node:hover {
  transform: translateY(-0.5rem) scale(1.02);
  box-shadow: 0 0.5rem 2rem rgba(0, 0, 0, 0.15);
}

/* Intercalado: alternar alineación */
.node:nth-child(even) {
  align-self: flex-start;
}

.node:nth-child(odd) {
  align-self: flex-end;
}

/* Títulos */
.node h3 {
  color: #2575fc;
  font-weight: 700;
  margin-bottom: 0.8rem;
  font-size: 1.2rem;
  text-align: center;
}

/* Listas */
.node ul {
  margin: 0;
  padding-left: 1.2rem;
  list-style-type: disc;
}

/* === RESPONSIVE === */
@media (max-width: 768px) {
  .node,
  .central-node {
    align-self: center !important;
    width: 90%;
  }
}

/* === ACCESIBILIDAD: REDUCIR MOVIMIENTO === */
@media (prefers-reduced-motion: reduce) {
  .node:hover,
  .central-node:hover {
    transform: none;
    box-shadow: none;
  }
}

/* === DETALLES ADICIONALES === */
.node::before {
  content: "🧠";
  position: absolute;
  top: 1rem;
  left: 1rem;
  font-size: 1.2rem;
  color: #2575fc;
}

  </style>
</head>

<body>
  <!-- Banner principal -->
  <header class="custom-banner" role="banner">
    <h1>Bases Biológicas: Sueño, Ingesta y Conducta Sexual</h1>

    <p class="mb-1">
      <strong>Autores:</strong> ANA MILENA FLOREZ PALLARES, LUISA FERNANDA ESPINOZA JIMENEZ,
      GABRIELA RODRÍGUEZ BUSTOS, MARÍA JOSÉ TAPIAS ORTIZ
    </p>
    <p class="mb-0">Universidad EAN - Neurofisiología del Comportamiento</p>

    <nav aria-label="Navegación principal" class="mt-3">
      <a href="#sueño" class="btn btn-outline-light me-2 text-white">Sueño</a>
      <a href="#mapa-ingesta" class="btn btn-outline-light me-2 text-white">Ingesta</a>
      <a href="#conducta-sexual" class="btn btn-outline-light me-2 text-white">Conducta Sexual</a>
      <a href="#referencias-bibliograficas" class="btn btn-outline-light me-2 text-white">Referencias</a>
    </nav>
  </header>

  <div class="main-container">
    <main class="content-area">
      <div class="d-flex flex-wrap justify-content-center align-items-start" style="gap:2rem;">

        <!-- Línea de tiempo del sueño derecha -->
        <section id="sueño" class="content-section" aria-label="Sueño">
          <div class="sleep-banner text-black text-center py-5 mb-4"
            style="background: url('imagenes/banner_sueno.jpg') center/cover no-repeat; animation: fadeIn 2s ease-in-out; border-radius: 12px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);">
            <h2 class="display-5 fw-bold">🕒 Línea de Tiempo: Fases del Sueño</h2>
            <p class="lead" style="font-size: 12pt;">Al dormir, se atraviesa un ciclo de dos fases del sueño: el
              movimiento ocular rápido (MOR) y el sueño sin MOR.
              El ciclo se reinicia cada 80 a 100 minutos. Por lo general, se atraviesan de 4 a 6 ciclos por noche.
              Es posible que se despierte brevemente entre un ciclo y otro. En los estudios sobre el sueño se emplean
              sensores
              para registrar los movimientos oculares y la actividad cerebral, y eso se usa para clasificar las fases y
              etapas
              del sueño (National Heart, Lung, and Blood Institute, n.d.).
            </p>
            <div class="timeline">

              <!-- Vigilia -->
              <div class="timeline-step left">
                <div class="timeline-content">
                  <img src="imagenes/563666.png" alt="Icono Vigilia" class="icon" />
                  <span class="stage-title">Vigilia</span><br>
                  <span class="duration">Previo al sueño</span><br>
                  Ondas beta • Alta actividad motora • Respuesta a estímulos<br>
                  <em>Transición desde despierto hacia el sueño ligero.</em>
                </div>
              </div>

              <!-- NREM Etapa 1 -->
              <div class="timeline-step right">
                <div class="timeline-content">
                  <img src="imagenes/jjj.png" Icono NRE 1" class="icon" />
                  <span class="stage-title">NREM Etapa 1</span><br>
                  <span class="duration">3-12 min/ciclo</span><br>
                  Ondas alfa y theta • Sueño ligero • Descenso en musculatura y respiración<br>
                  <em>Fácil de despertar, inicio del sueño.</em>
                </div>
              </div>

              <!-- NREM Etapa 2 -->
              <div class="timeline-step left">
                <div class="timeline-content">
                  <img src="imagenes/566655.png" alt="Icono NREM 2" class="icon" />
                  <span class="stage-title">NREM Etapa 2</span><br>
                  <span class="duration">10-20 min/ciclo</span><br>
                  Husillos del sueño y complejos K • Relajación profunda<br>
                  <em>Etapa más larga del ciclo; respuestas al entorno disminuyen.</em>
                </div>
              </div>

              <!-- NREM Etapa 3-->
              <div class="timeline-step right">
                <div class="timeline-content">
                  <img src="imagenes/46.png" Icono NREM 3" class="icon" />
                  <span class="stage-title">NREM Etapa 3</span><br>
                  <span class="duration">~10 minutos primer ciclo</span><br>
                  Ondas delta (muy lentas, alta amplitud) • Inicia sueño reparador • Movimientos mínimos<br>
                  <em>Reparación corporal máxima.</em>
                </div>
              </div>

              <!-- NREM Etapa 4 -->
              <div class="timeline-step left">
                <div class="timeline-content">
                  <img src="imagenes/5666666566.png" Icono NREM 4" class="icon" />
                  <span class="stage-title">NREM Etapa 4</span><br>
                  <span class="duration">35-40 minutos primer ciclo</span><br>
                  Ondas delta • Sueño muy profundo<br>
                  <em>Difícil despertar; aparece sonambulismo/terrores</em>
                </div>
              </div>
              <!-- Fase REM -->
              <div class="timeline-step right">
                <div class="timeline-content">
                  <img src="imagenes/520.png" alt="Icono REM" class="icon" />
                  <span class="stage-title">REM</span><br>
                  <span class="duration">15-30 min/ciclo (aumenta)</span><br>
                  Ondas mixtas (como vigilia) • Movimientos oculares rápidos • Parálisis muscular<br>
                  <em>Sueños vívidos, consolidación emocional y de aprendizaje.</em>
                </div>
              </div>

            </div>
        </section>

        <!-- Tarjetas de memoria del sueño izquierda -->
        <section>
          <h5>Descifrando el Sueño</h5>
          <div class="memory-card" tabindex="0" role="button" aria-expanded="false" aria-controls="ans1">
            <div class="question">¿Qué neurotransmisor activa la corteza cerebral especialmente durante REM?</div>
            <div class="answer" id="ans1" hidden>Acetilcolina</div>
          </div>
          <div class="memory-card" tabindex="0" role="button" aria-expanded="false" aria-controls="ans2">
            <div class="question">¿Cuál neurotransmisor es excitador y contribuye a la activación cortical durante
              REM?
            </div>
            <div class="answer" id="ans2" hidden>Glutamato</div>
          </div>
          <div class="memory-card" tabindex="0" role="button" aria-expanded="false" aria-controls="ans3">
            <div class="question">¿Qué neurotransmisor inhibe la actividad neuronal para promover el sueño en
              NREM?
            </div>
            <div class="answer" id="ans3" hidden>GABA</div>
          </div>
          <div class="memory-card" tabindex="0" role="button" aria-expanded="false" aria-controls="ans4">
            <div class="question">¿Qué neurotransmisor regula el inicio del sueño y la transición entre etapas?
            </div>
            <div class="answer" id="ans4" hidden>Serotonina</div>
          </div>
          <div class="memory-card" tabindex="0" role="button" aria-expanded="false" aria-controls="ans5">
            <div class="question">Neurotransmisores que disminuyen durante REM y aumentan en vigilia</div>
            <div class="answer" id="ans5" hidden>Noradrenalina y dopamina</div>
          </div>
        </section>

        <!-- 🌐 Mapa Conceptual Interactivo: Ingesta - Bases Biológicas -->
        <section id="mapa-ingesta" class="concept-map" aria-label="Mapa conceptual de la ingesta: bases biológicas">
          <h2 class="main-title">🧠 Ingesta: Bases Biológicas </h2>

          <div class="map-grid">
            <!-- I. FUNDAMENTOS GENERALES -->
            <div class="concept-card">
              <button class="card-header" style="background:#AEE1F9; color:#0B4F6C;">
                1️⃣ Definición y Conceptos Fundamentales
              </button>
              <div class="card-content">
                <p>La <strong>ingesta</strong> comprende procesos fisiológicos, neurobiológicos y psicológicos
                  que permiten obtener y procesar nutrientes para mantener la <em>homeostasis energética</em> y el
                  funcionamiento óptimo.</p>
                <p>Está regulada por <strong>mecanismos internos</strong> (señales de energía) y
                  <strong>factores externos</strong> (contexto social, disponibilidad de alimentos).
                </p>
              </div>
            </div>

            <!-- II. BASE BIOLÓGICA Y FISIOLÓGICA -->
            <div class="concept-card">
              <button class="card-header" style="background:#F9D5A8; color:#7A5500;">
                2️⃣ Anatomía y Fisiología del Sistema Digestivo
              </button>
              <div class="card-content">
                <ul>
                  <li><strong>Boca y Esófago:</strong> masticación, saliva (amilasa), transporte peristáltico.</li>
                  <li><strong>Estómago:</strong> almacena alimentos, secreta ácido y pepsina; mecanorreceptores envían
                    señales al cerebro.</li>
                  <li><strong>Intestino Delgado:</strong> absorción de nutrientes (duodeno, yeyuno, íleon).</li>
                  <li><strong>Intestino Grueso:</strong> absorción de agua y electrolitos.</li>
                </ul>
              </div>
            </div>

            <!-- III. REGULACIÓN CENTRAL -->
            <div class="concept-card">
              <button class="card-header" style="background:#C5E5A8; color:#2C5E11;">
                3️⃣ Regulación Neural Central: El Hipotálamo
              </button>
              <div class="card-content">
                <ul>
                  <li><strong>Lateral (LH):</strong> activa hambre y búsqueda de alimento.</li>
                  <li><strong>Ventromedial (VMH):</strong> inhibe la ingesta (saciedad).</li>
                  <li><strong>Arqueado (ARC):</strong>
                    <ul>
                      <li>POMC/CART → suprimen apetito</li>
                      <li>NPY/AgRP → promueven apetito</li>
                    </ul>
                  </li>
                  <li><strong>Paraventricular (PVN):</strong> integra señales y regula respuestas autónomas.</li>
                </ul>
              </div>
            </div>

            <!-- IV. SEÑALES QUÍMICAS CENTRALES -->
            <div class="concept-card">
              <button class="card-header" style="background:#D9CCF9; color:#4B339C;">
                4️⃣ Neurotransmisores y Neuropéptidos
              </button>
              <div class="card-content">
                <ul>
                  <li><strong>NPY / AgRP:</strong> estimulan apetito.</li>
                  <li><strong>POMC / α-MSH / CART:</strong> reducen ingesta.</li>
                  <li><strong>Orexinas y MCH:</strong> promueven hambre, energía y vigilia.</li>
                </ul>
              </div>
            </div>

            <!-- V. SEÑALES HORMONALES PERIFÉRICAS -->
            <div class="concept-card">
              <button class="card-header" style="background:#B7D6D2; color:#0D3B3B;">
                5️⃣ Hormonas Periféricas: Eje Adiposo-Hipotalámico
              </button>
              <div class="card-content">
                <ul>
                  <li><strong>Leptina:</strong> indica saciedad; resistencia → hiperfagia.</li>
                  <li><strong>Grelina:</strong> estimula hambre antes de comer.</li>
                  <li><strong>PYY, CCK, GLP-1:</strong> inducen saciedad tras la comida.</li>
                  <li><strong>Insulina:</strong> señala disponibilidad energética al cerebro.</li>
                </ul>
              </div>
            </div>

            <!-- VI. ENERGÍA Y HOMEOSTASIS -->
            <div class="concept-card">
              <button class="card-header" style="background:#E8F0A9; color:#495A00;">
                6️⃣ Glucosa, Metabolismo y Regulación del Apetito
              </button>
              <div class="card-content">
                <ul>
                  <li><strong>Homeostasis Glucémica:</strong> neuronas del ARC y VMH detectan niveles de glucosa.</li>
                  <li><strong>Teoría Glucostática:</strong> hambre surge cuando disminuye la utilización de glucosa.
                  </li>
                  <li><strong>Teoría Lipostática:</strong> leptina regula el balance energético a largo plazo.</li>
                </ul>
              </div>
            </div>

            <!-- VII. SEÑALES MECÁNICAS Y SENSORIALES -->
            <div class="concept-card">
              <button class="card-header" style="background:#FFD6A5; color:#754300;">
                7️⃣ Señales Gastrointestinales y Sensoriales
              </button>
              <div class="card-content">
                <ul>
                  <li><strong>Distensión Gástrica:</strong> activa nervio vago → NTS → hipotálamo → saciedad.</li>
                  <li><strong>Osmoreceptores y Quimiorreceptores:</strong> detectan nutrientes y envían señales de
                    plenitud.</li>
                  <li><strong>Gusto y Olfato:</strong> influyen en apetito y elección alimentaria.</li>
                </ul>
              </div>
            </div>

            <!-- VIII. SISTEMAS DE RECOMPENSA Y APRENDIZAJE -->
            <div class="concept-card">
              <button class="card-header" style="background:#C3E8F9; color:#0C506C;">
                8️⃣ Aprendizaje, Recompensa y Memoria
              </button>
              <div class="card-content">
                <ul>
                  <li><strong>Condicionamiento Clásico:</strong> señales asociadas a comida evocan hambre.</li>
                  <li><strong>Aversión Condicionada:</strong> evita sabores vinculados a malestar.</li>
                  <li><strong>Memoria de Ingesta:</strong> el cerebro recuerda qué/cuánto/cuándo se comió.</li>
                  <li><strong>Sistema Dopaminérgico:</strong> anticipación y placer al comer.</li>
                </ul>
              </div>
            </div>

            <!-- IX. FACTORES EMOCIONALES Y PSICOLÓGICOS -->
            <div class="concept-card">
              <button class="card-header" style="background:#E0B0FF; color:#4B0082;">
                9️⃣ Factores Psicológicos y Emocionales
              </button>
              <div class="card-content">
                <ul>
                  <li><strong>Estrés:</strong> agudo ↓ apetito, crónico ↑ ingesta (especialmente “comfort food”).</li>
                  <li><strong>Depresión:</strong> puede causar anorexia o hiperfagia.</li>
                  <li><strong>Ingesta Emocional:</strong> comer por ansiedad o tristeza, no por hambre real.</li>
                  <li><strong>Ansiedad y Control:</strong> restricción alimentaria o conductas patológicas.</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- === Conducta Sexual: Diagrama Interactivo === -->
        <section aria-label="Conducta Sexual" class="content-section" id="conducta-sexual">
          <div class="container my-5">
            <h2 class="my-4 text-center">🧠 Conducta Sexual</h2>
            <p class="lead text-center">
              Explora las principales estructuras cerebrales involucradas en la conducta sexual humana.
            </p>

            <div class="diagram-container position-relative d-flex justify-content-center">
              <!-- Imagen del cerebro -->
              <img src="imagenes/ccc.png" alt="Diagrama cerebral de las estructuras relacionadas con la conducta sexual"
                class="img-fluid rounded shadow" style="max-width: 700px; width: 100%; height: auto;" />

              <!-- Hotspots (puntos interactivos) -->
              <div tabindex="0" class="hotspot" data-bs-toggle="tooltip" data-bs-placement="top"
                title="Hipotálamo: Controla respuestas hormonales vinculadas con la conducta sexual."
                style="top: 55%; left: 45%; background-color: #e0e68cf8;"></div>

              <div tabindex="0" class="hotspot" data-bs-toggle="tooltip" data-bs-placement="top"
                title="Amígdala: Procesa emociones y comportamientos sexuales."
                style="top: 60%; left: 48%; background-color: #30dbcd;"></div>

              <div tabindex="0" class="hotspot" data-bs-toggle="tooltip" data-bs-placement="top"
                title="Núcleo Accumbens: Asociado al placer y recompensa durante la conducta sexual."
                style="top: 55%; left: 35%; background-color: #e62dae;"></div>

              <div tabindex="0" class="hotspot" data-bs-toggle="tooltip" data-bs-placement="top"
                title="Corteza Prefrontal: Involucrada en la toma de decisiones y control inhibitorio."
                style="top: 35%; left: 30%; background-color: hsl(76, 66%, 50%);"></div>
            </div>
          </div>
<!-- Mapa conceptual de conducta sexual -->
<div class="mind-map" role="application" aria-label="Mapa mental sobre conducta sexual">

  <!-- Nodo central -->
  <section class="central-node" tabindex="0" role="region" aria-label="Nodo central: Conducta sexual">
    Conducta Sexual
  </section>

  <!-- Nodo: Sistema hormonal y motivación -->
  <section class="node" tabindex="0" role="region" aria-label="Sistema hormonal y motivación sexual">
    <h3>Sistema hormonal y motivación</h3>
    <ul>
      <li>Estrógenos, progesterona, testosterona</li>
      <li>Eje hipotálamo-hipófisis-gonadal</li>
      <li>Cambios cíclicos en mujeres</li>
      <li>Relación con conducta reproductiva</li>
      <li>Cortisol y hormonas del estrés</li>
    </ul>
  </section>

  <!-- Nodo: Neuroanatomía del deseo -->
  <section class="node" tabindex="0" role="region" aria-label="Neuroanatomía y circuitos del deseo sexual">
    <h3>Neuroanatomía del deseo</h3>
    <ul>
      <li>Hipotálamo, amígdala, núcleo accumbens</li>
      <li>Corteza prefrontal, tronco cerebral</li>
      <li>Integración sensorial y emocional</li>
      <li>Sistema de recompensa (dopamina)</li>
      <li>Modulación cognitiva</li>
    </ul>
  </section>

  <!-- Nodo: Neuroquímica -->
  <section class="node" tabindex="0" role="region" aria-label="Neuroquímica sexual">
    <h3>Neuroquímica</h3>
    <ul>
      <li>Dopamina: motivación y recompensa</li>
      <li>Serotonina: inhibición post-respuesta</li>
      <li>Óxido nítrico: respuesta vascular</li>
      <li>GABA, opioides, endocannabinoides</li>
      <li>Interacción con hormonas sexuales</li>
    </ul>
  </section>

  <!-- Nodo: Desarrollo biológico -->
  <section class="node" tabindex="0" role="region" aria-label="Factores del desarrollo biológico sexual">
    <h3>Desarrollo biológico</h3>
    <ul>
      <li>Influencia hormonal prenatal</li>
      <li>Diferenciación cerebral</li>
      <li>Genética y epigenética</li>
      <li>Orientación e identidad</li>
      <li>Sensibilidad estructural a hormonas</li>
    </ul>
  </section>

  <!-- Nodo: Microbiota -->
  <section class="node" tabindex="0" role="region" aria-label="Microbiota y conducta sexual">
    <h3>Microbiota y cerebro</h3>
    <ul>
      <li>Regulación hormonal y neurotransmisores</li>
      <li>Influencia en motivación y ánimo</li>
      <li>Conexión con conducta sexual</li>
      <li>Ejes biológicos integrados</li>
    </ul>
  </section>

  <!-- Nodo: Aplicaciones clínicas -->
  <section class="node" tabindex="0" role="region" aria-label="Aplicaciones clínicas y disfunciones sexuales">
    <h3>Aplicaciones clínicas</h3>
    <ul>
      <li>Deseo sexual hipoactivo, aversión</li>
      <li>Disfunción eréctil, anorgasmia</li>
      <li>Tratamientos hormonales y neurológicos</li>
      <li>Impacto del microbioma</li>
    </ul>
  </section>

</div>
<!-- SVG para líneas del mapa mental -->
<svg class="map-lines" aria-hidden="true"></svg>    

</main>

<!-- Sidebar con fichas de aprendizaje -->
<aside class="sidebar" aria-label="Fichas de aprendizaje">
  <h5>Fichas de Aprendizaje del Sueño</h5>
  <div class="card">
    <div class="card-body">
      <h6 class="card-title">Bases del Sueño</h6>
      <p class="card-text">Fases del sueño, actividades neuronales y fisiológicas, importancia del REM.</p>
    </div>
  </div>

  <h5>Fichas de Aprendizaje de la Ingesta</h5>
  <div class="card">
    <div class="card-body">
      <h6 class="card-title">Sustancias en Ingesta</h6>
      <p class="card-text">Roles de grelina, leptina, insulina y otros en el control del apetito y saciedad.</p>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <h6 class="card-title">Hipotálamo: Centro principal de regulación.</h6>
      <p class="card-text">Núcleo arqueado: Detecta señales de hambre y saciedad.</p>
      <p class="card-text">Núcleo ventromedial: Relacionado con la saciedad.</p>
      <p class="card-text">Núcleo lateral: Estimula el apetito.</p>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <h6 class="card-title">Hormonas clave:</h6>
      <p class="card-text">Grelina: Estimula el hambre (secretada por el estómago).</p>
      <p class="card-text">Leptina: Inhibe el apetito (secretada por tejido adiposo).</p>
      <p class="card-text">Insulina: Regula niveles de glucosa y tiene efecto sobre el apetito.</p>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <h6 class="card-title">Neurotransmisores</h6>
      <p class="card-text">Dopamina: Asociada al placer de comer.</p>
      <p class="card-text">Serotonina: Relacionada con la saciedad y el estado de ánimo.</p>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <h6 class="card-title">Factores que influyen</h6>
      <p class="card-text">Ambientales (disponibilidad de comida, cultura).</p>
      <p class="card-text">Emocionales (estrés, ansiedad).</p>
      <p class="card-text">Genéticos (predisposición a obesidad o trastornos alimentarios).</p>
    </div>
  </div>

  <h5>Fichas de Aprendizaje de la Conducta Sexual</h5>
  <div class="card">
    <div class="card-body">
      <h6 class="card-title">Hormonas Sexuales</h6>
      <p class="card-text">Efectos de estrógenos, progesterona y testosterona en maduración y sistema nervioso.</p>
      </p>
    </div>
  </div>
</aside>
</div>

<footer>
  <section id="referencias-bibliograficas" class="mb-3">
    <h5 class="text-center mb-3">📚 Referencias Bibliográficas</h5>
    <div class="container">
      <p class="mb-1"><strong>Referencias:</strong> Spielman, R. M., Jenkins, W. J., &amp; Lovett, M. D. (s. f.).
        4.04:
        Etapas del sueño. En Psicología Introductoria 2e (OpenStax). LibreTexts Español., Votaw, K. (s. f.). 11.2:
        Etapas NREM del sueño [PDF]. LibreTexts Español.,Votaw, K. (s. f.). 11.3: Sueño REM. En Psicología general
        para
        estudiantes de honor. LibreTexts Español., LibreTexts Español. (s. f.). 11.03: Etapas del sueño. En
        Biopsicología (OERI) – Proyecto de Revisión. LibreTexts Español., Carlson, N. R. (2018). Fisiología de la
        conducta (12.ª ed.). Pearson Educación., Duncan, R. P., Van Dillen, L. R., Garbutt, J. M., Earhart, G. M.,
        &amp;
        Perlmutter, J. S. (2018). Physical therapy and deep brain stimulation in Parkinson’s disease: Protocol for a
        pilot randomized controlled trial. Pilot and Feasibility Studies, 4(1), 1–9., Parashar, A., &amp; Udayabanu,
        M.
        (2017). Gut microbiota: Implications in Parkinson’s disease. Parkinsonism &amp; Related Disorders, 38, 1–7.
        TED Global. (2010, julio). Heribert Watzke: The brain in your gut [Video]. TED Conferences., LibreTexts.
        (s.f.).
        Hormonas sexuales, motivación sexual y conductas reproductivas. En Biopsicología (OERI) – Proyecto de
        revisión., Bartoshuk, L. M., & Beauchamp, G. K. (1994). Chemical senses. Annual Review of Psychology, 45(1),
        419-449., Cannon, W. B., McIver, M. A., & Blakeslee, S. M. (1988). Studies on the conditions of activity in
        endocrine glands: XV. The effect of adrenin on the secretion of pancreatic juice. American Journal of
        Physiology, 91(2), 283-291., Carlson, N. R. (2014). Physiology of behavior (11th ed.). Pearson., Clark, J. T.,
        Kalra, P. S., Crowley, W. R., & Kalra, S. P. (1984). Neuropeptide Y and human pancreatic polypeptide stimulate
        feeding behavior in rats. Endocrinology, 115(1), 427-429, Cone, R. D. (2005). Anatomy and regulation of the
        central melanocortin system. Nature Neuroscience.,
      </p>Cummings, D. E., Purnell, J. Q., Frayo, R. S., Schmidova, K., Wisse, B. E., & Weigle, D. S. (2001). A
      preprandial rise in plasma ghrelin levels suggests a role in meal initiation in humans. Diabetes, 50(8),
      1714-1719., Dallman, M. F., Pecoraro, N., Akana, S. F., la Fleur, S. E., Gomez, F., Houshyar, H., ... &
      Bhatnagar, S. (2003). Chronic stress and obesity: A new view of "comfort food". Proceedings of the National
      Academy of Sciences, 100(20), 11696-11701., de Castro, J. M. (1994). Family and friends produce greater social
      facilitation of food intake than other companions. Physiology & Behavior, 56(3), 445-455.,Frayling, T. M.,
      Timpson, N. J., Weedon, M. N., Zeggini, E., Freathy, R. M., Lindgren, C. M., ... & McCarthy, M. I. (2007). A
      common variant in the FTO gene is associated with body mass index and predisposes to childhood and adult
      obesity. Science, 316(5829), 889-894.
      <p>El contenido y las explicaciones se elaboraron con base en artículos científicos y fuentes divulgativas
        recientes.</p>
      <small>© 2025 Página educativa sobre procesos biológicos | © 2025</small>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // === Secciones desplegables ===
  document.querySelectorAll('.section').forEach(section => {
    section.querySelector('.section-header').addEventListener('click', () => {
      const isActive = section.classList.contains('active');
      document.querySelectorAll('.section').forEach(s => {
        s.classList.remove('active');
        s.querySelector('.toggle-icon').textContent = '+';
      });
      if (!isActive) {
        section.classList.add('active');
        section.querySelector('.toggle-icon').textContent = '−';
      }
    });
  });

  // === Cards con encabezado ===
  document.querySelectorAll(".card-header").forEach(button => {
    button.addEventListener("click", () => {
      const card = button.parentElement;
      card.classList.toggle("active");
    });
  });

  // === Línea entre nodo central y nodos secundarios ===
  function drawLines() {
    const svg = document.querySelector('.map-lines');
    svg.innerHTML = '';

    const central = document.querySelector('.central-node');
    const nodes = document.querySelectorAll('.node');

    const centralRect = central.getBoundingClientRect();
    const centerX = centralRect.left + centralRect.width / 2;
    const centerY = centralRect.top + centralRect.height / 2;

    nodes.forEach(node => {
      const rect = node.getBoundingClientRect();
      const nodeX = rect.left + rect.width / 2;
      const nodeY = rect.top + rect.height / 2;

      const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
      line.setAttribute('x1', centerX);
      line.setAttribute('y1', centerY);
      line.setAttribute('x2', nodeX);
      line.setAttribute('y2', nodeY);
      line.setAttribute('stroke', '#25adfc');
      line.setAttribute('stroke-width', '2');
      svg.appendChild(line);
    });
  }

  window.addEventListener('load', drawLines);
  window.addEventListener('resize', drawLines);

  // === Línea de tiempo expandible con accesibilidad ===
  document.querySelectorAll('.timeline-item').forEach(item => {
    item.addEventListener('click', () => toggleExpand(item));
    item.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        toggleExpand(item);
      }
    });
  });

  function toggleExpand(item) {
    const expanded = item.classList.contains('expanded');
    item.classList.toggle('expanded', !expanded);
    item.setAttribute('aria-expanded', !expanded);
  }

  // === Mapa conceptual: mostrar descripción del nodo ===
  const conceptNodes = document.querySelectorAll('.concept-node');
  const conceptDesc = document.getElementById('concept-desc');

  conceptNodes.forEach(node => {
    node.setAttribute('tabindex', '0');

    node.addEventListener('click', () => {
      conceptNodes.forEach(n => n.classList.remove('active-node'));
      node.classList.add('active-node');

      conceptDesc.style.opacity = '0';
      setTimeout(() => {
        conceptDesc.textContent = node.getAttribute('data-desc');
        conceptDesc.style.opacity = '1';
      }, 200);
    });

    node.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        node.click();
      }
    });
  });

  // === Cards de hormonas sexuales ===
  const hormoneCards = document.querySelectorAll('.hormone-card');

  hormoneCards.forEach(card => {
    card.addEventListener('click', () => {
      const isActive = card.classList.contains('active');
      hormoneCards.forEach(c => {
        c.classList.remove('active');
        c.setAttribute('aria-expanded', 'false');
      });
      if (!isActive) {
        card.classList.add('active');
        card.setAttribute('aria-expanded', 'true');
      }
    });

    card.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        card.click();
      }
    });
  });

  // === Cards de memoria ===
  document.querySelectorAll('.memory-card').forEach(card => {
    card.addEventListener('click', () => {
      const answer = card.querySelector('.answer');
      const expanded = card.getAttribute('aria-expanded') === 'true';
      answer.hidden = expanded;
      card.setAttribute('aria-expanded', String(!expanded));
    });

    card.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        card.click();
      }
    });
  });

  // === Tooltips de Bootstrap ===
  document.addEventListener("DOMContentLoaded", function () {
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
    tooltipTriggerList.forEach(el => new bootstrap.Tooltip(el));
  });
</script>

</html>